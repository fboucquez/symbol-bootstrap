<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>symbol-bootstrap</title>
	<meta name="description" content="Documentation for symbol-bootstrap">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">symbol-bootstrap</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>symbol-bootstrap</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#symbol-bootstrap" id="symbol-bootstrap" style="color: inherit; text-decoration: none;">
					<h1>symbol-bootstrap</h1>
				</a>
				<p>Symbol CLI tool that allows you creating, configuring and running Symbol&#39;s complete networks or nodes to be sync with existing networks.</p>
				<p><a href="https://oclif.io"><img src="https://img.shields.io/badge/cli-oclif-brightgreen.svg" alt="oclif"></a>
					<a href="https://npmjs.org/package/symbol-bootstrap"><img src="https://img.shields.io/npm/v/symbol-bootstrap.svg" alt="Version"></a>
					<a href="https://npmjs.org/package/symbol-bootstrap"><img src="https://img.shields.io/npm/dw/symbol-bootstrap.svg" alt="Downloads/week"></a>
					<a href="https://github.com/nemtech/symbol-bootstrap/blob/master/package.json"><img src="https://img.shields.io/npm/l/symbol-bootstrap.svg" alt="License"></a>
					<a href="https://travis-ci.com/nemtech/symbol-bootstrap"><img src="https://travis-ci.com/nemtech/symbol-bootstrap.svg?branch=main" alt="Build Status"></a>
					<a href="https://coveralls.io/github/nemtech/symbol-bootstrap?branch=main"><img src="https://coveralls.io/repos/github/nemtech/symbol-bootstrap/badge.svg?branch=main" alt="Coverage Status"></a>
				<a href="https://nemtech.github.io/symbol-bootstrap/"><img src="https://img.shields.io/badge/api-doc-blue.svg" alt="Api Doc"></a></p>
				<!-- toc -->
				<ul>
					<li><a href="#symbol-bootstrap">symbol-bootstrap</a></li>
					<li><a href="#why-this-tool">Why this tool?</a></li>
					<li><a href="#key-benefits">Key benefits:</a></li>
					<li><a href="#concepts">Concepts</a></li>
					<li><a href="#requirements">Requirements</a></li>
					<li><a href="#usage">Usage</a></li>
					<li><a href="#e2e-testing-support">E2E Testing support</a></li>
					<li><a href="#development">Development</a></li>
					<li><a href="#commands">Commands</a></li>
					<li><a href="#command-topics">Command Topics</a><!-- tocstop -->
					</li>
				</ul>
				<a href="#why-this-tool" id="why-this-tool" style="color: inherit; text-decoration: none;">
					<h1>Why this tool?</h1>
				</a>
				<p>This tool has been created to address the problems defined in Symbol&#39;s <a href="https://github.com/nemtech/NIP/blob/main/NIPs/nip-0011.md">NIP11</a>.</p>
				<p>It replaces:</p>
				<ul>
					<li><a href="https://github.com/nemtech/catapult-service-bootstrap">catapult-service-bootstrap</a></li>
					<li><a href="https://github.com/nemgrouplimited/symbol-service-bootstrap">symbol-testnet-bootstrap</a></li>
				</ul>
				<a href="#key-benefits" id="key-benefits" style="color: inherit; text-decoration: none;">
					<h1>Key benefits:</h1>
				</a>
				<ul>
					<li>It&#39;s an installable cli tool. It&#39;s not a repo you need to clone and compile.</li>
					<li>The configuration is parametrized via CLI commands and presets instead of by changing properties files.</li>
					<li>The tools code is unique for any type of network, new networks or nodes in a network. It doesn&#39;t need to be copied and pasted in different projects or assemblies.</li>
					<li>The config command runs on the host machine, not via docker making it easier to debug or tune</li>
					<li>It&#39;s uses the TS SDK for key generation, vrf transactions, address generation instead of using catapult-tools (nemgen is still used to generate the nemesis block).</li>
					<li>Easier to maintain, the properties files are reused for all nodes, assemblies and network types.</li>
					<li>Network setup (how many database, nodes, rest gateways to run) is defined in presets, users can provide their own ones.</li>
					<li>Docker-compose yaml files are generated based on the network setup/preset instead of being manually created/upgraded.</li>
					<li>The created network (config, nemesis and docker-compose) can be zipped and distributed for other host machines to run it.</li>
					<li>The used docker images versions can be changed via configuration/preset</li>
					<li>It uses the <a href="https://oclif.io">oclif</a> framework. New commands are easy to add and document.</li>
					<li>It can be included as a npm dependency for clients&#39; e2e testing.</li>
				</ul>
				<a href="#concepts" id="concepts" style="color: inherit; text-decoration: none;">
					<h1>Concepts</h1>
				</a>
				<a href="#preset" id="preset" style="color: inherit; text-decoration: none;">
					<h2>Preset:</h2>
				</a>
				<p>Yaml files that define the configuration and layout of the network and nodes. It defines how many nodes, database, rest gateways, the modes, keys, etc.</p>
				<p>Presets are defined at 4 levels from general to specific:</p>
				<ul>
					<li>Shared: Default configurations for all the networks.</li>
					<li>Network: It defines the main preset of a given network, example: <code>bootstrap</code> or <code>testnet</code>.</li>
					<li>Assembly: It defines a modification of a network, example: <code>testnet peer</code>, <code>tesnet dual</code>, <code>testnet api</code>. Assembly is required for some networks (like <code>testnet</code>).</li>
					<li>Custom: A user provided yml file (<code>--customPreset</code> param) that could override some or all properties in the out-of-the-box presets.</li>
				</ul>
				<p>Properties in each file override the previous values (by object deep merge).</p>
				<a href="#out-of-the-box-presets" id="out-of-the-box-presets" style="color: inherit; text-decoration: none;">
					<h3>Out-of-the-box presets:</h3>
				</a>
				<ul>
					<li><code>-p bootstrap</code>: Default <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/bootstrap/network.yml">preset</a>. It&#39;s a full network with 1 mongo database, 2 peers, 1 api and 1 rest gateway. Nemesis block is generated.</li>
					<li><code>-p light</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/light/network.yml">light</a> network. It&#39;s a version of bootstrap with 1 mongo database, 1 dual peer and 1 rest gateway. Great for faster light e2e automatic testing. Nemesis block is generated.</li>
					<li><code>-p testnet -a peer</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/assembly-peer.yml">harvesting</a> peer node that connects to the current public <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/network.yml">testnet</a>. <a href="https://github.com/nemtech/symbol-bootstrap/tree/main/presets/testnet/seed/00000">Nemesis block</a> is copied over.</li>
					<li><code>-p testnet -a api</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/assembly-api.yml">api</a> peer node that connects to the current public <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/network.yml">testnet</a> running its own mongo database and rest gateway. <a href="https://github.com/nemtech/symbol-bootstrap/tree/main/presets/testnet/seed/00000">Nemesis block</a> is copied over.</li>
					<li><code>-p testnet -a dual</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/assembly-dual.yml">dual</a> haversting peer node that connects to the current public <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/network.yml">testnet</a> running its own mongo database and rest gateway. <a href="https://github.com/nemtech/symbol-bootstrap/tree/main/presets/testnet/seed/00000">Nemesis block</a> is copied over.</li>
				</ul>
				<a href="#custom-preset" id="custom-preset" style="color: inherit; text-decoration: none;">
					<h3>Custom preset:</h3>
				</a>
				<p>It&#39;s the way you can tune the network without modifying the code. It&#39;s a yml file (<code>--customPreset</code> param) that could override some or all properties in the out-of-the-box presets.</p>
				<p>Most people would use the out-of-box preset or tune a few attributes.</p>
				<p>The file is a hierarchical yaml object. If an attribute is defined at root level, it overrides the default value for all the affected configurations.
				The attribute can also be defined in a lower level object just affecting one component (node, gateway, nemesis, etc).  </p>
				<p>The best way to validate your configuration is by inspecting the generated configuration and preset.yml files in the target folder</p>
				<p><strong>If you are trying new configurations, remember to reset the previous one by running --reset (-r) or by removing the selected target folder (./target by default)</strong></p>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h4>Examples:</h4>
				</a>
				<a href="#custom-rest-image-and-throttling" id="custom-rest-image-and-throttling" style="color: inherit; text-decoration: none;">
					<h5>Custom Rest image and throttling:</h5>
				</a>
				<pre><code class="language-yaml"><span class="hljs-attr">symbolRestImage:</span> <span class="hljs-string">symbolplatform/symbol-rest:2.1.1-alpha</span>
<span class="hljs-attr">throttlingBurst:</span> <span class="hljs-number">35</span>
<span class="hljs-attr">throttlingRate:</span> <span class="hljs-number">1000</span></code></pre>
				<a href="#custom-block-duration-max-namespace-duration-and-number-of-nemesis-accounts" id="custom-block-duration-max-namespace-duration-and-number-of-nemesis-accounts" style="color: inherit; text-decoration: none;">
					<h5>Custom block duration, max namespace duration and number of nemesis accounts:</h5>
				</a>
				<pre><code class="language-yaml"><span class="hljs-attr">blockGenerationTargetTime:</span> <span class="hljs-string">5s</span>
<span class="hljs-attr">maxNamespaceDuration:</span> <span class="hljs-string">10d</span>
<span class="hljs-attr">nemesis:</span>
  <span class="hljs-attr">mosaics:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">accounts:</span> <span class="hljs-number">20</span></code></pre>
				<a href="#zero-fee-nodes" id="zero-fee-nodes" style="color: inherit; text-decoration: none;">
					<h5>Zero fee nodes:</h5>
				</a>
				<pre><code class="language-yaml"><span class="hljs-attr">minFeeMultiplier:</span> <span class="hljs-number">0</span></code></pre>
				<a href="#not-exposed-rest-gateway" id="not-exposed-rest-gateway" style="color: inherit; text-decoration: none;">
					<h5>Not exposed rest gateway:</h5>
				</a>
				<pre><code class="language-yaml"><span class="hljs-attr">gateways:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">openPort:</span> <span class="hljs-literal">false</span></code></pre>
				<a href="#custom-nodes39-friendly-names-and-hosts" id="custom-nodes39-friendly-names-and-hosts" style="color: inherit; text-decoration: none;">
					<h5>Custom nodes&#39; friendly names and hosts:</h5>
				</a>
				<p>Updating first node (single node presets like <code>testnet</code>):</p>
				<pre><code class="language-yaml"><span class="hljs-attr">nodes:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">friendlyName:</span> <span class="hljs-string">My</span> <span class="hljs-string">node</span> <span class="hljs-string">custom</span> <span class="hljs-string">friendly</span> <span class="hljs-string">name</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">&#x27;myNode.custom.hostname&#x27;</span></code></pre>
				<p>Updating multiple nodes (multi-node presets like <code>bootstrap</code>)</p>
				<pre><code class="language-yaml"><span class="hljs-attr">nodes:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">friendlyName:</span> <span class="hljs-string">Peer</span> <span class="hljs-string">Node</span> <span class="hljs-number">1</span> <span class="hljs-string">custom</span> <span class="hljs-string">friendly</span> <span class="hljs-string">name</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">friendlyName:</span> <span class="hljs-string">Peer</span> <span class="hljs-string">Node</span> <span class="hljs-number">2</span> <span class="hljs-string">custom</span> <span class="hljs-string">friendly</span> <span class="hljs-string">name</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">&#x27;peer2.custom.hostname&#x27;</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">friendlyName:</span> <span class="hljs-string">Api</span> <span class="hljs-string">Node</span> <span class="hljs-number">1</span> <span class="hljs-string">custom</span> <span class="hljs-string">friendly</span> <span class="hljs-string">name</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">&#x27;api1.custom.hostname&#x27;</span></code></pre>
				<a href="#custom-generation-hash-seed-balances-and-block-1-transactions" id="custom-generation-hash-seed-balances-and-block-1-transactions" style="color: inherit; text-decoration: none;">
					<h5>Custom generation hash seed, balances and block 1 transactions:</h5>
				</a>
				<pre><code class="language-yaml"><span class="hljs-attr">nemesisGenerationHashSeed:</span> <span class="hljs-string">7391E2EF993C70D2F52691A54411DA3BD1F77CF6D47B8C8D8832C890069AAAAA</span>
<span class="hljs-attr">nemesis:</span>
    <span class="hljs-attr">balances:</span>
        <span class="hljs-attr">TDN2CNADENSTASFK6SCB7MFQLAYNZB3JBZCBLLA:</span> <span class="hljs-number">898300000</span>
        <span class="hljs-attr">TBK7C5SI3NR3ZEZTMNXRISY6FENDK3YDE63HK7Q:</span> <span class="hljs-number">98800000</span>
        <span class="hljs-attr">TA45K3WZYQQKSFHJ3DSEQTOO6N7RMBQUVE7H6MA:</span> <span class="hljs-number">984750000</span>
<span class="hljs-attr">transactions:</span>
        <span class="hljs-attr">&#x27;16963_581474&#x27;:</span> <span class="hljs-string">A1000000000000...(serialized</span> <span class="hljs-string">hex</span> <span class="hljs-string">transaction)</span>
        <span class="hljs-attr">&#x27;16963_580690&#x27;:</span> <span class="hljs-string">A1000000000000...</span>
        <span class="hljs-attr">&#x27;MyTransaction&#x27;:</span> <span class="hljs-number">01000000000000</span><span class="hljs-string">...</span></code></pre>
				<a href="#enable-voting-mode-in-a-node" id="enable-voting-mode-in-a-node" style="color: inherit; text-decoration: none;">
					<h5>Enable voting mode in a node:</h5>
				</a>
				<pre><code class="language-yaml"><span class="hljs-attr">nodes:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">voting:</span> <span class="hljs-literal">true</span></code></pre>
				<p>In order to finalize the peer or voting nodes registration to an existing network like Testnet, be sure your nodes&#39; signing addresses have enough funds. For test environments, you can use the network&#39;s faucet.</p>
				<p>Then run:</p>
				<pre><code><span class="hljs-attribute">symbol-bootstrap link</span></code></pre>
				<p><strong>Note:</strong> Full network <code>-p bootstrap</code> nodes are fully configured voting and peer nodes. <code>VotingKeyLinkTransaction</code> and <code>VrfKeyLinkTransaction</code> are added to the nemesis block automatically. </p>
				<a href="#disable-voting-mode-in-all-bootstrap-nodes" id="disable-voting-mode-in-all-bootstrap-nodes" style="color: inherit; text-decoration: none;">
					<h5>Disable voting mode in all bootstrap nodes:</h5>
				</a>
				<pre><code class="language-yaml"><span class="hljs-attr">nodes:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">voting:</span> <span class="hljs-literal">false</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">voting:</span> <span class="hljs-literal">false</span></code></pre>
				<a href="#target" id="target" style="color: inherit; text-decoration: none;">
					<h2>Target:</h2>
				</a>
				<p>The folder where the generated config, docker files and data are stored. The folder structure is:</p>
				<ul>
					<li><code>./config</code>: node configurations mounted when running the docker services.</li>
					<li><code>./config/generated-addresses</code>: randomly generated data that wasn&#39;t provided in the preset. e.g.: SSL keys, nodes&#39; keys, nemesis accounts, generation hash seed, etc.</li>
					<li><code>./config/nemesis</code>: the configuration used when running the <code>nemgen</code> tool.</li>
					<li><code>./mongo</code>: mongo database data</li>
					<li><code>./data</code></li>
					<li><code>./data/nemesis-data</code>: nemesis data the nodes will load. The nemesis can be generated (for new networks like <code>bootstrap</code>) or copied from an existing network (<code>testnet</code>)</li>
					<li><code>./docker</code>: the generated docker-compose.yml and DockerFile files used when running the network.</li>
					<li><code>./state</code>: folder used to synchronize the services execution</li>
				</ul>
				<a href="#requirements" id="requirements" style="color: inherit; text-decoration: none;">
					<h1>Requirements</h1>
				</a>
				<ul>
					<li>Node 10+</li>
					<li>Docker</li>
					<li>Docker Compose</li>
				</ul>
				<p>Validate your environment by running:</p>
				<pre><code><span class="hljs-keyword">node</span> <span class="hljs-title">-v</span>
docker -v
docker-compose -v</code></pre>
				<p>Check your user can run docker without sudo:</p>
				<pre><code>docker <span class="hljs-keyword">run</span><span class="bash"> hello-world</span></code></pre>
				<p>If you see an error like:</p>
				<pre><code>Got permission denied <span class="hljs-keyword">while</span> trying <span class="hljs-built_in">to</span> connect <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> Docker daemon <span class="hljs-built_in">socket</span> <span class="hljs-keyword">at</span> unix:<span class="hljs-comment">///var/run/docker.sock</span></code></pre>
				<p>Please follow this <a href="https://www.digitalocean.com/community/questions/how-to-fix-docker-got-permission-denied-while-trying-to-connect-to-the-docker-daemon-socket">guide</a>.</p>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h1>Usage</h1>
				</a>
				<p>It&#39;s recommended to run the commands from en empty working dir.</p>
				<p>The network configuration, data and docker files will be created inside the target folder (&#39;./target&#39;) by default.</p>
				<pre><code><span class="hljs-keyword">mkdir</span> <span class="hljs-keyword">my</span>-networks
cd <span class="hljs-keyword">my</span>-networks</code></pre>
				<p>Once in the working dir:</p>
				<!-- usage -->
				<pre><code class="language-sh-session">$ npm install -g symbol-bootstrap
$ symbol-bootstrap COMMAND
running command...
$ symbol-bootstrap (-v|--version|version)
symbol-bootstrap/0.1.1 linux-x64 node-v12.18.4
$ symbol-bootstrap --help [COMMAND]
USAGE
  $ symbol-bootstrap COMMAND
...</code></pre>
				<!-- usagestop -->
				<p>The general usage would be:</p>
				<pre><code>symbol-bootstrap<span class="hljs-built_in"> config </span>-p bootstrap
symbol-bootstrap compose
symbol-bootstrap run</code></pre>
				<p>You can aggregate all these commands with this one liner:</p>
				<pre><code>symbol-<span class="hljs-keyword">bootstrap</span> start -p <span class="hljs-keyword">bootstrap</span></code></pre>
				<p>If you need to start fresh, you many need to sudo remove the target folder (docker volumes dirs may be created using sudo). Example:</p>
				<pre><code>sudo rm -rf ./<span class="hljs-keyword">target</span></code></pre>
				<a href="#e2e-testing-support" id="e2e-testing-support" style="color: inherit; text-decoration: none;">
					<h1>E2E Testing support</h1>
				</a>
				<p>One use case of this CLI is client E2E testing support. If you are coding a Symbol client, you (Travis or Jenkins) can run e2e tests like:</p>
				<pre><code>symbol-<span class="hljs-keyword">bootstrap</span> start -p <span class="hljs-keyword">bootstrap</span> --detached
YOUR <span class="hljs-keyword">TEST</span> (<span class="hljs-keyword">e</span>.<span class="hljs-keyword">g</span>: npm <span class="hljs-keyword">run</span> <span class="hljs-keyword">test</span>, gradle <span class="hljs-keyword">test</span>, selenium etc.)
symbol-<span class="hljs-keyword">bootstrap</span> stop</code></pre>
				<p><code>--detached</code> starts the server waiting until it is up (by polling the network <a href="http://localhost:3000/node/health">http://localhost:3000/node/health</a>). The command will fail if the components are not up in 30 seconds.</p>
				<p>You can also provide your own custom preset (<code>-c</code>) if you want your e2e test to start with a specific state (specific balances addresses, mosaics, namespaces, generation hash seed, etc.)</p>
				<a href="#node-client-e2e-via-cli" id="node-client-e2e-via-cli" style="color: inherit; text-decoration: none;">
					<h2>Node client E2E via CLI:</h2>
				</a>
				<p>The CLI can also be used as npm project (dev) dependency (<code>npm install --save-dev symbol-bootstrap</code>). Then you can integrate the network to your npm test cycle.
				Your <code>package.json</code> can look like this:</p>
				<pre><code class="language-yaml">
<span class="hljs-attr">&quot;devDependencies&quot;:</span> {
    <span class="hljs-string">....</span>
    <span class="hljs-attr">&quot;symbol-bootstrap&quot;:</span> <span class="hljs-string">&quot;0.0.x&quot;</span>,
    <span class="hljs-string">....</span>
}

<span class="hljs-string">scripts&quot;:</span> {
<span class="hljs-string">...</span>
    <span class="hljs-attr">&quot;clean-network&quot;:</span> <span class="hljs-string">&quot;symbol-bootstrap clean&quot;</span>,
    <span class="hljs-attr">&quot;run-network&quot;:</span> <span class="hljs-string">&quot;symbol-bootstrap start -c ./output/my_custom_preset.yml --detached&quot;</span>,
    <span class="hljs-attr">&quot;run-stop&quot;:</span> <span class="hljs-string">&quot;symbol-bootstrap stop&quot;</span>,
    <span class="hljs-attr">&quot;integration-test&quot;:</span> <span class="hljs-string">&quot;....some mocha/jest/etc tests running against localhost:3000 network....&quot;</span>,
    <span class="hljs-attr">&quot;e2e&quot;:</span> <span class="hljs-string">&quot;npm run clean-network &amp;&amp; npm run run-network &amp;&amp; npm run integration-test &amp;&amp; npm run stop-network&quot;</span>,
<span class="hljs-string">...</span>
}</code></pre>
				<p>Then, you, Jenkins, Travis or your CI tool can run;</p>
				<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> e2e</span></code></pre>
				<a href="#node-client-e2e-via-api" id="node-client-e2e-via-api" style="color: inherit; text-decoration: none;">
					<h2>Node client E2E via API:</h2>
				</a>
				<p>Alternatively, you can use the <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/src/service/BootstrapService.ts">BootstrapService</a> facade to programmatically start and stop a server.</p>
				<p>Example:</p>
				<pre><code class="language-ts">it(<span class="hljs-string">&#x27;Bootstrap e2e test&#x27;</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> service = <span class="hljs-keyword">new</span> BootstrapService();
    <span class="hljs-keyword">const</span> config: StartParams = {
        preset: Preset.bootstrap,
        reset: <span class="hljs-literal">true</span>,
        timeout: <span class="hljs-number">60000</span> * <span class="hljs-number">5</span>,
        target: <span class="hljs-string">&#x27;target/bootstrap-test&#x27;</span>,
        detached: <span class="hljs-literal">true</span>,
        user: <span class="hljs-string">&#x27;current&#x27;</span>,
    };
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> service.stop(config);
        <span class="hljs-keyword">const</span> configResult = <span class="hljs-keyword">await</span> service.start(config);
        expect(configResult.presetData).not.null;
        expect(configResult.addresses).not.null;
        <span class="hljs-comment">// Here you can write unit tests against a http://localhost:3000 network</span>
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-keyword">await</span> service.stop(config);
    }
});</code></pre>
				<p>It&#39;s recommended to reuse the same server for multiple tests by using <code>beforeAll</code>, <code>afterAll</code> kind of statements. </p>
				<a href="#development" id="development" style="color: inherit; text-decoration: none;">
					<h1>Development</h1>
				</a>
				<p>If you want to contribute to this tool, clone this repo and run:</p>
				<pre><code>npm <span class="hljs-keyword">install</span> -g</code></pre>
				<p>Then, <code>symbol-bootstrap</code> runs from the source code. You can now try your features after changing the code.</p>
				<p>Pull Requests are appreciated! Please follow the contributing <a href="CONTRIBUTING.md">guidelines</a>.</p>
				<p>Note: cloning this repo is only for people that want to tune the tool in a way it cannot be configured. If this is your case, please provide a feature request.
				General users should install this tool like any other node module. </p>
				<a href="#commands" id="commands" style="color: inherit; text-decoration: none;">
					<h1>Commands</h1>
				</a>
				<!-- commands -->
				<a href="#command-topics" id="command-topics" style="color: inherit; text-decoration: none;">
					<h1>Command Topics</h1>
				</a>
				<ul>
					<li><a href="docs/clean.md"><code>symbol-bootstrap clean</code></a> - It removes the target folder (It may not work if you need root privileges!!!)</li>
					<li><a href="docs/compose.md"><code>symbol-bootstrap compose</code></a> - It generates the <code>docker-compose.yml</code> file from the configured network.</li>
					<li><a href="docs/config.md"><code>symbol-bootstrap config</code></a> - Command used to set up the configuration files and the nemesis block for the current network</li>
					<li><a href="docs/help.md"><code>symbol-bootstrap help</code></a> - display help for symbol-bootstrap</li>
					<li><a href="docs/link.md"><code>symbol-bootstrap link</code></a> - It announces VRF and Voting Link transactions to the network for each node with &#39;Peer&#39; or &#39;Voting&#39; roles. This command finalizes the node registration to an existing network.</li>
					<li><a href="docs/report.md"><code>symbol-bootstrap report</code></a> - it generates reStructuredText (.rst) reports describing the configuration of each node.</li>
					<li><a href="docs/run.md"><code>symbol-bootstrap run</code></a> - It boots the network via docker using the generated <code>docker-compose.yml</code> file and configuration. The config and compose methods/commands need to be called before this method. This is just a wrapper for the <code>docker-compose up</code> bash call.</li>
					<li><a href="docs/start.md"><code>symbol-bootstrap start</code></a> - Single command that aggregates config, compose and run in one line!</li>
					<li><a href="docs/stop.md"><code>symbol-bootstrap stop</code></a> - It stops the docker-compose network if running (symbol-bootstrap started with --detached). This is just a wrapper for the <code>docker-compose down</code> bash call.</li>
				</ul>
				<!-- commandsstop -->
				<pre><code></code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_commands_clean_.html">&quot;commands/clean&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_commands_compose_.html">&quot;commands/compose&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_commands_config_.html">&quot;commands/config&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_commands_link_.html">&quot;commands/link&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_commands_report_.html">&quot;commands/report&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_commands_run_.html">&quot;commands/run&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_commands_start_.html">&quot;commands/start&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_commands_stop_.html">&quot;commands/stop&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_disabledcommands_mongo_.html">&quot;disabled<wbr>Commands/mongo&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_index_.html">&quot;index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_logger_logtype_.html">&quot;logger/<wbr>Log<wbr>Type&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_logger_logger_.html">&quot;logger/<wbr>Logger&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_logger_loggerfactory_.html">&quot;logger/<wbr>Logger<wbr>Factory&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_model_addresses_.html">&quot;model/<wbr>Addresses&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_model_configpreset_.html">&quot;model/<wbr>Config<wbr>Preset&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_model_dockercompose_.html">&quot;model/<wbr>Docker<wbr>Compose&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_model_nodetype_.html">&quot;model/<wbr>Node<wbr>Type&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_model_index_.html">&quot;model/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_bootstrapservice_.html">&quot;service/<wbr>Bootstrap<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_bootstraputils_.html">&quot;service/<wbr>Bootstrap<wbr>Utils&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_certificateservice_.html">&quot;service/<wbr>Certificate<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_composeservice_.html">&quot;service/<wbr>Compose<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_configservice_.html">&quot;service/<wbr>Config<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_forgecertificateservice_.html">&quot;service/<wbr>Forge<wbr>Certificate<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_linkservice_.html">&quot;service/<wbr>Link<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_mongoservice_.html">&quot;service/<wbr>Mongo<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_nemgenservice_.html">&quot;service/<wbr>Nemgen<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_reportservice_.html">&quot;service/<wbr>Report<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_runservice_.html">&quot;service/<wbr>Run<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_votingservice_.html">&quot;service/<wbr>Voting<wbr>Service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_service_index_.html">&quot;service/index&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>